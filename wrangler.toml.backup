name = "trading-edu-bot-worker"
main = "src/index.js"
compatibility_date = "2025-09-10"

# Common settings
workers_dev = true
node_compat = true

# Cron triggers
[triggers]
crons = ["0 * * * *"]  # Every hour

# Development environment
[env.dev]
name = "trading-edu-bot-worker-dev"
vars = { LOG_LEVEL = "debug", ENVIRONMENT = "development", POST_FREQUENCY = "*/15 * * * *" }

# Staging environment
[env.staging]
name = "trading-edu-bot-worker-staging"
vars = {
  LOG_LEVEL = "debug",
  ENVIRONMENT = "staging",
  POST_FREQUENCY = "0 */2 * * *"  # Every 2 hours
}

# Production environment
[env.production]
name = "trading-edu-bot-worker"
vars = {
  LOG_LEVEL = "info",
  ENVIRONMENT = "production",
  POST_FREQUENCY = "0 * * * *"  # Every hour
}

# KV Namespace bindings (if needed)
# kv_namespaces = [
#   { binding = "TRADING_TIPS", id = "xxx" }
# ]

# You need to set these secrets using wrangler:
# wrangler secret put TELEGRAM_BOT_TOKEN
# wrangler secret put TELEGRAM_CHAT_ID
# wrangler secret put OPENROUTER_API_KEY
